# HTTP κΈ°λ³Έ

## λ¨λ“  κ²ƒμ΄ HTTP

- HTTP (HyperText Transfer Protocol)       
- κ±°μ λ¨λ“  ν•νƒμ λ°μ΄ν„° μ „μ†΅ κ°€λ¥       
<br/>

- HTTP/1.1 1997λ…„: κ°€μ¥ λ§μ΄ μ‚¬μ©, μ°λ¦¬μ—κ² κ°€μ¥ μ¤‘μ”ν• λ²„μ „       
<br/>

- κΈ°λ° ν”„λ΅ν† μ½       
γ€€- TCP: HTTP/1.1, HTTP/2       
γ€€- UDP: HTTP/3       
<br/>

β… HTTP νΉμ§•       
- ν΄λΌμ΄μ–ΈνΈ μ„λ²„ κµ¬μ΅°       
- λ¬΄μƒνƒ ν”„λ΅ν† μ½(μ¤ν…μ΄μ¤λ¦¬μ¤), λΉ„μ—°κ²°μ„±       
- HTTP λ©”μ‹μ§€       
- λ‹¨μν•¨, ν™•μ¥ κ°€λ¥       

<br/>

## ν΄λΌμ΄μ–ΈνΈ μ„λ²„ κµ¬μ΅°

- Request Response κµ¬μ΅°       
- ν΄λΌμ΄μ–ΈνΈλ” μ„λ²„μ— μ”μ²­μ„ λ³΄λ‚΄κ³ , μ‘λ‹µμ„ λ€κΈ°       
- μ„λ²„κ°€ μ”μ²­μ— λ€ν• κ²°κ³Όλ¥Ό λ§λ“¤μ–΄μ„ μ‘λ‹µ       

![http_basic_34.png](../img/http_basic_34.png)     

<br/>

## Stateful, Stateless

β… λ¬΄μƒνƒ ν”„λ΅ν† μ½     
μ¤ν…μ΄μ¤λ¦¬μ¤(Stateless)     
- μ„λ²„κ°€ ν΄λΌμ΄μ–ΈνΈμ μƒνƒλ¥Ό λ³΄μ΅΄X     
- μ¥μ : μ„λ²„ ν™•μ¥μ„± λ†’μ(μ¤μΌ€μΌ μ•„μ›ƒ)     
- λ‹¨μ : ν΄λΌμ΄μ–ΈνΈκ°€ μ¶”κ°€ λ°μ΄ν„° μ „μ†΅     
<br/>

β… Stateful, Stateless μ°¨μ΄     
- μƒνƒ μ μ§€ - Stateful, μ •λ¦¬     
κ³ κ°: μ΄ **λ…ΈνΈλ¶** μ–Όλ§μΈκ°€μ”?     
μ μ›: 100λ§μ› μ…λ‹λ‹¤. **(λ…ΈνΈλ¶ μƒνƒ μ μ§€)**     
κ³ κ°: **2κ°** κµ¬λ§¤ν•κ² μµλ‹λ‹¤.     
μ μ›: 200λ§μ› μ…λ‹λ‹¤. **μ‹ μ©μΉ΄λ“, ν„κΈμ¤‘**μ— μ–΄λ–¤ κ±Έλ΅ κµ¬λ§¤ ν•μ‹κ² μ–΄μ”?     
**(λ…ΈνΈλ¶, 2κ° μƒνƒ μ μ§€)**     
κ³ κ°: μ‹ μ©μΉ΄λ“λ΅ κµ¬λ§¤ν•κ² μµλ‹λ‹¤.     
μ μ›: 200λ§μ› κ²°μ  μ™„λ£λμ—μµλ‹λ‹¤. (**λ…ΈνΈλ¶, 2κ°, μ‹ μ©μΉ΄λ“ μƒνƒ μ μ§€)**     
<br/>

- λ¬΄μƒνƒ - Stateless     
κ³ κ°: μ΄ **λ…ΈνΈλ¶** μ–Όλ§μΈκ°€μ”?     
μ μ›: 100λ§μ› μ…λ‹λ‹¤.     
κ³ κ°: **λ…ΈνΈλ¶ 2κ°** κµ¬λ§¤ν•κ² μµλ‹λ‹¤.     
μ μ›: λ…ΈνΈλ¶ 2κ°λ” 200λ§μ› μ…λ‹λ‹¤. **μ‹ μ©μΉ΄λ“, ν„κΈμ¤‘**μ— μ–΄λ–¤ κ±Έλ΅ κµ¬λ§¤ ν•μ‹κ² μ–΄μ”?     
κ³ κ°: **λ…ΈνΈλ¶ 2κ°λ¥Ό μ‹ μ©μΉ΄λ“**λ΅ κµ¬λ§¤ν•κ² μµλ‹λ‹¤.     
μ μ›: 200λ§μ› κ²°μ  μ™„λ£λμ—μµλ‹λ‹¤.     
<br/>

β… μ •λ¦¬     
- **μƒνƒ μ μ§€**: μ¤‘κ°„μ— λ‹¤λ¥Έ μ μ›μΌλ΅ λ°”λ€λ©΄ μ•λλ‹¤.     
(μ¤‘κ°„μ— λ‹¤λ¥Έ μ μ›μΌλ΅ λ°”λ€” λ• μƒνƒ μ •λ³΄λ¥Ό λ‹¤λ¥Έ μ μ›μ—κ² λ―Έλ¦¬ μ•λ ¤μ¤μ•Ό ν•λ‹¤.)     
- **λ¬΄μƒνƒ**: μ¤‘κ°„μ— λ‹¤λ¥Έ μ μ›μΌλ΅ λ°”λ€μ–΄λ„ λλ‹¤.     
γ€€- κ°‘μκΈ° κ³ κ°μ΄ μ¦κ°€ν•΄λ„ μ μ›μ„ λ€κ±° ν¬μ…ν•  μ μλ‹¤.     
γ€€- κ°‘μκΈ° ν΄λΌμ΄μ–ΈνΈ μ”μ²­μ΄ μ¦κ°€ν•΄λ„ μ„λ²„λ¥Ό λ€κ±° ν¬μ…ν•  μ μλ‹¤.     
- λ¬΄μƒνƒλ” μ‘λ‹µ μ„λ²„λ¥Ό μ‰½κ² λ°”κΏ€ μ μλ‹¤. -> **λ¬΄ν•ν• μ„λ²„ μ¦μ„¤ κ°€λ¥**     

![http_basic_35.png](../img/http_basic_35.png)
![http_basic_36.png](../img/http_basic_36.png)     
![http_basic_37.png](../img/http_basic_37.png)
![http_basic_38.png](../img/http_basic_38.png)     
![http_basic_39.png](../img/http_basic_39.png)     


β… Stateless μ‹¤λ¬΄ ν•κ³„     
- λ¨λ“  κ²ƒμ„ λ¬΄μƒνƒλ΅ μ„¤κ³„ ν•  μ μλ” κ²½μ°λ„ μκ³  μ—†λ” κ²½μ°λ„ μλ‹¤.     
- λ¬΄μƒνƒ     
γ€€- μ) λ΅κ·ΈμΈμ΄ ν•„μ” μ—†λ” λ‹¨μν• μ„λΉ„μ¤ μ†κ° ν™”λ©΄     
- μƒνƒ μ μ§€     
γ€€- μ) λ΅κ·ΈμΈ     
- λ΅κ·ΈμΈν• μ‚¬μ©μμ κ²½μ° λ΅κ·ΈμΈ ν–λ‹¤λ” μƒνƒλ¥Ό μ„λ²„μ— μ μ§€     
- μΌλ°μ μΌλ΅ λΈλΌμ°μ € μΏ ν‚¤μ™€ μ„λ²„ μ„Έμ…λ“±μ„ μ‚¬μ©ν•΄μ„ μƒνƒ μ μ§€     
- μƒνƒ μ μ§€λ” μµμ†ν•λ§ μ‚¬μ©     

<br/>

## λΉ„ μ—°κ²°μ„±(connectionless)

![http_basic_40.png](../img/http_basic_40.png)     
![http_basic_41.png](../img/http_basic_41.png)     

β… λΉ„ μ—°κ²°μ„±     
- HTTPλ” κΈ°λ³Έμ΄ μ—°κ²°μ„ μ μ§€ν•μ§€ μ•λ” λ¨λΈ     
- μΌλ°μ μΌλ΅ μ΄ λ‹¨μ„μ μ΄ν•μ λΉ λ¥Έ μ†λ„λ΅ μ‘λ‹µ     
- 1μ‹κ°„ λ™μ• μμ²λ…μ΄ μ„λΉ„μ¤λ¥Ό μ‚¬μ©ν•΄λ„ μ‹¤μ  μ„λ²„μ—μ„ λ™μ‹μ— μ²λ¦¬ν•λ” μ”μ²­μ€ μμ‹­κ° μ΄ν•λ΅ λ§¤μ° μ‘μ     
γ€€- μ) μ›Ή λΈλΌμ°μ €μ—μ„ κ³„μ† μ—°μ†ν•΄μ„ κ²€μƒ‰ λ²„νΌμ„ λ„λ¥΄μ§€λ” μ•λ”λ‹¤.     
- μ„λ²„ μμ›μ„ λ§¤μ° ν¨μ¨μ μΌλ΅ μ‚¬μ©ν•  μ μμ     
<br/>

β… λΉ„ μ—°κ²°μ„± ν•κ³„μ™€ κ·Ήλ³µ     
- TCP/IP μ—°κ²°μ„ μƒλ΅ λ§Ίμ–΄μ•Ό ν•¨ - 3 way handshake μ‹κ°„ μ¶”κ°€     
- μ›Ή λΈλΌμ°μ €λ΅ μ‚¬μ΄νΈλ¥Ό μ”μ²­ν•λ©΄ HTML λΏλ§ μ•„λ‹λΌ μλ°”μ¤ν¬λ¦½νΈ, css, μ¶”κ°€ μ΄λ―Έμ§€ λ“±λ“± μ λ§μ€ μμ›μ΄ ν•¨κ» λ‹¤μ΄λ΅λ“     
- μ§€κΈμ€ HTTP μ§€μ† μ—°κ²°(Persistent Connections)λ΅ λ¬Έμ  ν•΄κ²°     
- HTTP/2, HTTP/3μ—μ„ λ” λ§μ€ μµμ ν™”     

![http_basic_42.png](../img/http_basic_42.png)     
![http_basic_43.png](../img/http_basic_43.png)     

## HTTP λ©”μ‹μ§€

![http_basic_44.png](../img/http_basic_44.png)     
![http_basic_45.png](../img/http_basic_45.png)     

β… μ‹μ‘ λΌμΈ (μ”μ²­ λ©”μ‹μ§€)     
GET /search?q=hello&hl=ko HTTP/1.1     
Host: [www.google.com](http://www.google.com/)     
- start-line = **request-line** / status-line     
- **request-line** = method SP(κ³µλ°±) request-target SP HTTP-version CRLF(μ—”ν„°)     
- HTTP λ©”μ„λ“ (GET: μ΅°ν)     
- μ”μ²­ λ€μƒ (/search?q=hello&hl=ko)     
- HTTP Version     

β… μ‹μ‘ λΌμΈ (μ”μ²­ λ©”μ‹μ§€ - HTTP λ©”μ„λ“)     
- μΆ…λ¥: GET, POST, PUT, DELETE...     
- μ„λ²„κ°€ μν–‰ν•΄μ•Ό ν•  λ™μ‘ μ§€μ •     
- GET: λ¦¬μ†μ¤ μ΅°ν     
- POST: μ”μ²­ λ‚΄μ—­ μ²λ¦¬     

β… μ‹μ‘ λΌμΈ (μ”μ²­ λ©”μ‹μ§€ - μ”μ²­ λ€μƒ)     
- absolute-path[?query] (μ λ€κ²½λ΅[?μΏΌλ¦¬])     
- μ λ€κ²½λ΅= "/" λ΅ μ‹μ‘ν•λ” κ²½λ΅     
- μ°Έκ³ : *, http://...?x=y μ™€ κ°™μ΄ λ‹¤λ¥Έ μ ν•μ κ²½λ΅μ§€μ • λ°©λ²•λ„ μλ‹¤.     

β… μ‹μ‘ λΌμΈ (μ‘λ‹µ λ©”μ‹μ§€)     

- start-line = request-line / **status-line**     
- **status-line** = HTTP-version SP status-code SP reason-phrase CRLF     
- HTTP λ²„μ „     
- HTTP μƒνƒ μ½”λ“: μ”μ²­ μ„±κ³µ, μ‹¤ν¨λ¥Ό λ‚νƒ€λƒ„     
γ€€- 200: μ„±κ³µ     
γ€€- 400: ν΄λΌμ΄μ–ΈνΈ μ”μ²­ μ¤λ¥     
γ€€- 500: μ„λ²„ λ‚΄λ¶€ μ¤λ¥     
- μ΄μ  λ¬Έκµ¬: μ‚¬λμ΄ μ΄ν•΄ν•  μ μλ” μ§§μ€ μƒνƒ μ½”λ“ μ„¤λ… κΈ€     

![http_basic_46.png](../img/http_basic_46.png)     

β… HTTP ν—¤λ” μ©λ„     
- HTTP μ „μ†΅μ— ν•„μ”ν• λ¨λ“  λ¶€κ°€μ •λ³΄     
- μ) λ©”μ‹μ§€ λ°”λ””μ λ‚΄μ©, λ©”μ‹μ§€ λ°”λ””μ ν¬κΈ°, μ••μ¶•, μΈμ¦, μ”μ²­ ν΄λΌμ΄μ–ΈνΈ(λΈλΌμ°μ €) μ •λ³΄, μ„λ²„ μ• ν”λ¦¬μΌ€μ΄μ… μ •λ³΄, μΊμ‹ κ΄€λ¦¬ μ •λ³΄...     
- ν‘μ¤€ ν—¤λ”κ°€ λ„λ¬΄ λ§μ     
γ€€- [https://en.wikipedia.org/wiki/List_of_HTTP_header_fields](https://en.wikipedia.org/wiki/List_of_HTTP_header_fields)     

- ν•„μ”μ‹ μ„μμ ν—¤λ” μ¶”κ°€ κ°€λ¥     
γ€€- helloworld: hihi     
<br/>

β… HTTP λ©”μ‹μ§€ λ°”λ”” μ©λ„     
- μ‹¤μ  μ „μ†΅ν•  λ°μ΄ν„°     
- HTML λ¬Έμ„, μ΄λ―Έμ§€, μμƒ, JSON λ“±λ“± byteλ΅ ν‘ν„ν•  μ μλ” λ¨λ“  λ°μ΄ν„° μ „μ†΅ κ°€λ¥     
<br/>

π― HTTP μ •λ¦¬     
- HTTP λ©”μ‹μ§€μ— λ¨λ“  κ²ƒμ„ μ „μ†΅     
- HTTP μ—­μ‚¬ HTTP/1.1μ„ κΈ°μ¤€μΌλ΅ ν•™μµ     
- ν΄λΌμ΄μ–ΈνΈ μ„λ²„ κµ¬μ΅°     
- λ¬΄μƒνƒ ν”„λ΅ν† μ½(μ¤ν…μ΄μ¤λ¦¬μ¤)     
- HTTP λ©”μ‹μ§€     
- λ‹¨μν•¨, ν™•μ¥ κ°€λ¥     
- μ§€κΈμ€ HTTP μ‹λ€     